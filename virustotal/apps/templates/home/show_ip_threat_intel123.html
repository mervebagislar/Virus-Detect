{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="apple-touch-icon" sizes="76x76" href="{{ ASSETS_ROOT }}/img/apple-icon.png">
    <link rel="icon" type="image/png" href="{{ ASSETS_ROOT }}/img/favicon.png">

    {% block title %}URL Tehdit Analizi{% endblock %}
    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,600,700,800" rel="stylesheet"/>
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
    <!-- Nucleo Icons -->
    <link href="{{ ASSETS_ROOT }}/css/nucleo-icons.css" rel="stylesheet"/>
    <!-- CSS Files -->
    <link href="{{ ASSETS_ROOT }}/css/black-dashboard.css?v=1.0.0" rel="stylesheet"/>
    <link href="{{ ASSETS_ROOT }}/css/theme-switcher.css" rel="stylesheet"/>
    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link href="{{ ASSETS_ROOT }}/demo/demo.css" rel="stylesheet"/>

    <!-- Specific Page CSS goes HERE  -->
    {% block stylesheets %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    
    <style>
      body {
        background-image: url("{% static 'assets/img/2.png' %}"); /* Arka plan resmi yolu */
        background-size: cover; /* Resmin kapsayıcıya sığmasını sağlar */
        background-position: center; /* Resmin ortalanmasını sağlar */
        background-repeat: no-repeat; /* Resmin tekrar etmesini engeller */
        background-attachment: fixed;
        color: #D0D0D5;
        font-family: Arial, sans-serif;
          
      }
      .card {
         /* Kenar çizgilerini kaldır */
        border-radius: 10px; /* Kart kenarlarını yuvarla */
        transition: transform 0.3s ease, box-shadow 0.3s ease; /* Hover efektleri için geçiş animasyonları */
        position: relative; /* Trend ikonları için */
        overflow: hidden; /* Taşan öğeleri gizle */
        margin: 20px auto !important;
    }
    
    .card:hover {
        transform: translateY(-10px); /* Hover edildiğinde yukarı doğru hareket etsin */
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); /* Hover edildiğinde gölge ekle */
    }
    
    /* Kart İçeriği */
    .card-title {
        font-size: 24px; /* Kart başlığı boyutu */
        font-weight: 700; /* Kart başlığı kalınlığı */
        margin: 10px; /* Kart başlığı alt boşluk */
        display: flex; /* İçeriği yatayda hizala */
        align-items: center; /* İkonla birlikte hizala */
    }
    
    .card-title img {
        width: 25px; /* Bayrak ikonu genişliği */
        height: auto; /* Oranlı yükseklik */
        margin-left: 10px; /* Metin ile ikon arasına boşluk */
    }
    
    .card-text {
        font-size: 16px; /* Kart metni boyutu */
        color: #aaa; /* Kart metni rengi */
        margin-bottom: 0; /* Kart metni alt boşluk */
    }
    
    /* Trend İkonları */
    .trend-icon {
        position: absolute; /* Konumu sabitle */
        right: 10px; /* Sağdan boşluk */
        bottom: 10px; /* Alttan boşluk */
        font-size: 20px; /* İkon boyutu */
        animation: blink 2s infinite; /* İkon için animasyon ekle */
    }
    
    .text-success {
        color: #28a745; /* Başarı rengi */
    }
    
    .text-danger {
        color: #dc3545; /* Hata rengi */
    }
    .whois-card{
        width:92%;
        margin: 0 auto;
    }
    .whois-card h3{
        margin:10px;
    }
    
    /* İkonlar için animasyon */
    @keyframes blink {
        0%, 100% {
            opacity: 1; /* Opaklık başlangıcı */
        }
        50% {
            opacity: 0.5; /* Opaklık ortası */
        }
    }
      .container {
          width: 100%;
          margin: 0 auto;
          padding-top: 20px;
      }
      h1 {
          font-size: 24px;
          margin-bottom: 20px;
          color: #E5E5E5;
      }
     
      .analysis-overview-card {
        
        height:500px;
        width: 100%; /* İstediğiniz genişlik */
        margin: 0 auto; /* Ortaya hizala */
         /* Maksimum genişlik */
    }
     .basic-properties{
        height:500px;
        border-radius:10px;
        width: 100%; /* İstediğiniz genişlik */
        margin: 0 auto; /* Ortaya hizala */
        max-width: 900px; /* Maksimum genişlik */
     }
     .basic-properties h2{
      padding:10px;
     }
    .security-vendors-analysis-card {
        width: 92%; /* İstediğiniz genişlik */
        margin: 0 auto; /* Ortaya hizala */
    }
    
      .card h2 {
          font-size: 20px;
          margin-bottom: 10px;
          color: #F5F5F5;
      }
      .table {
        width: 100%;
        border-collapse: collapse;
    }
    
    .table th, .table td {
        padding: 10px;
        border-bottom: 1px solid #3A3A55;
    }
    
    .table th {
        text-align: left;
        background-color: #3A3A55;
        color: #D5D5DD;
    }
    
    .table td {
        background-color: #29293F;
    }
    
    .map {
        margin-bottom:-10px;
        height: 500px; /* Haritanın yüksekliği */
        width: 100%; /* Haritanın genişliği */
        border-radius: 8px;
    }
      pre {
        background-image: url("{% static 'assets/img/2.png' %}"); /* Arka plan resmi yolu */
        background-size: cover; /* Resmin kapsayıcıya sığmasını sağlar */
        background-position: center; /* Resmin ortalanmasını sağlar */
        background-repeat: no-repeat; /* Resmin tekrar etmesini engeller */
        background-attachment: fixed;
       
        font-family: Arial, sans-serif;
        padding: 10px;
        border-radius: 8px;
        overflow-x: auto;
        overflow-y: auto; 
        width: 800px;
        max-height: 300px;
        color: #D5D5DD;
        font-family: 'Courier New', Courier, monospace;
        box-sizing: border-box; /* Padding'i genişliğe dahil et */
        white-space: pre-wrap; /* Taşmayı önlemek için satırları sar */
      }
      pre::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      pre::-webkit-scrollbar-thumb {
        background-color: #4E4E6E;
        border-radius: 8px;
      }
      pre::-webkit-scrollbar-track {
        background-color: #2E2E3E;
        border-radius: 8px;
      }
      .analysis-table-container {
          display: flex;
          flex-wrap: wrap;
          justify-content: space-between;
      }
      .analysis-table {
          width: 48%;
          margin-bottom: 20px;
      }
      
        /* Önceki stil kurallarını burada ekleyin */
        .chart-area {
          width: 100%;
          height: 100%;
        }
       
        .row{
            display:flex;
        }
        .trend-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.5em;
          }
          .network-icon {
            width: 24px;    /* Genişlik ayarı */
            height: 24px;   /* Yükseklik ayarı */
            /* Eğer rengi değiştirilebilecek bir SVG kullanıyorsanız */
            filter: invert(100%); /* Rengi beyaza çevirir (sadece SVG'de) */
          }
          .ipv4-icon {
            width: 24px;    /* Genişlik ayarı */
            height: 24px;   /* Yükseklik ayarı */
            /* Eğer rengi değiştirilebilecek bir SVG kullanıyorsanız */
            filter: invert(100%); /* Rengi beyaza çevirir (sadece SVG'de) */
          }
          .custom-circle{
            color:#a444b0
          }
          .custom-circle-1{
            color:#e2aef6
          }
          .custom-circle-2{
            color:#FF6384
          }
          .custom-circle-3{
            color:#f5dcf9
          }
          .custom-circle-4{
            color:#c8709c
          }
          .align-items-center td{
            vertical-align: middle; /* Vertikal ortalama */
                text-align: center; /* Yatay ortalama */
          }
          .weekly-card{
            height:500px;
            width: 100%; /* İstediğiniz genişlik */
            margin: 0 auto; /* Ortaya hizala */
         /* Maksimum genişlik */
          }
          .chart-row{
            margin-bottom:40px;
            display: flex;
            flex-wrap: wrap; /* Eğer yeterli alan yoksa satıra devam eder */
            gap: 10px; 
          }
          .analysisChartLine{
            height:600px;
          }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    {% endblock stylesheets %}

</head>
<body class="">

    <div class="wrapper">

        {% include 'includes/navigation-home.html' %}

        <div class="main-panel">

            {% block content %}
            
            <div class="content">
              <div class="card mt-3">
                  <div class="custom-card-content">
                      <div class="row row-group m-0">
                          <div class="col-12 col-lg-6 col-xl-3 border-light">
                              <div class="card-body">
                                  <h5 class="custom-bg-color mb-0">
                                    Network 
                                    <span class="float-right">
                                      <img src="{% static 'assets/img/ip-adress.png' %}" class="network-icon">
                                    </span>
                                  </h5>
                                  <h4></h4>
                                  <h3 class="mb-0 text-white small-font">{{ otx_ip_address }} </h3>
                                </div>
                          </div>
                          <div class="col-12 col-lg-6 col-xl-3 border-light">
                              <div class="card-body">
                                <h4 class="custom-bg-color mb-0">Country
                                   <span class="float-right">
                                      <i class="fa fa-flag"></i>
                                  </span>
                                </h4>
                                <h4></h4>
                                <h3 class="mb-0 text-white small-font">{{otx_country_name}} <img src=" {{ otx_flag_url }}" alt="{{ otx_country_name }} flag"></h3>
                              </div>
                          </div>
                          <div class="col-12 col-lg-6 col-xl-3 border-light">
                              <div class="card-body">
                                <h4 class="custom-bg-color mb-0" >Type
                                   <span class="float-right">
                                      <img src="{% static 'assets/img/ipv4.png' %}" class="ipv4-icon">
                                  </span>
                                </h4>
                                <h4></h4>
                                <h3 class="mb-0 text-white small-font">{{otx_type}} </h3>
                              </div>
                          </div>
                          <div class="col-12 col-lg-6 col-xl-3 border-light">
                              <div class="card-body">
                                <h5 class="custom-bg-color mb-0">Autonomous System Number <span class="float-right"><i class="fa fa-envira"></i></span></h5>
                                <h4></h4>
                                <h4 class="mb-0 text-white small-font">{{otx_asn}} </h4>
                                
                              </div>
                          </div>
                      </div>
                  </div>
              </div>  
                  
              <div class="container">
                <div class="row">
                 <div class="col-lg-6">
                   <div class="card basic-properties" >
                      <h2>Basic Properties</h2>
                      <table class="table">
                          <tr>
                              <th>Network</th>
                              <td>{{otx_ip_address }}</td>
                          </tr>
                          <tr>
                              <th>Autonomous System Number</th>
                              <td>{{ otx_asn }}</td>
                          </tr>
                          <tr>
                              <th>Regional Internet Registry</th>
                              <td>{{ otx_region }}</td>
                          </tr>
                          <tr>
                              <th>Country</th>
                              <td>
                                  <img src="{{ otx_flag_url }}" alt="{{ otx_country_name }} flag">
                                  {{otx_country_name}}
                              </td>
                          </tr>
                          <tr>
                              <th>Continent</th>
                              <td>{{ otx_continent_code }}</td>
                          </tr>
                          <tr>
                              <th>City</th>
                              <td>{{otx_city}}</td>
                          </tr>
                          <tr>
                              <th>Type</th>
                              <td>{{ otx_type }}</td>
                          </tr>
                      </table>
                  </div>
                 </div>
                  <div class="col-lg-6">
                    <div class="card map-card">
                      <div id="map" class="map"></div>
                    </div>
                  </div>
                </div> 
              </div>
          
              <div class=container>
                <div class="row"> 
                   <div class="col-lg-6">
                     <div class="card weekly-card">
                     <div class="card-header">Weekly sales
                       <div class="card-action">
                       <div class="dropdown">
                       <a href="javascript:void();" class="dropdown-toggle dropdown-toggle-nocaret" data-toggle="dropdown">
                        <i class="icon-options"></i>
                       </a>
                        <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="javascript:void();">Action</a>
                        <a class="dropdown-item" href="javascript:void();">Another action</a>
                        <a class="dropdown-item" href="javascript:void();">Something else here</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="javascript:void();">Separated link</a>
                         </div>
                        </div>
                       </div>
                     </div>
                     <div class="card-body">
                   <div class="chart-container-2">
                         <canvas id="donutChart"></canvas>
                  </div>
                     </div>
                     <div class="container chart-row">
                      <div class="row">
                          <div class="col">
                              <i class="fa fa-circle custom-circle mr-2"></i> Malware
                          </div>
                          <div class="col">
                              <i class="fa fa-circle custom-circle-1 mr-2"></i> Suspicious
                          </div>
                          <div class="col">
                              <i class="fa fa-circle custom-circle-2 mr-2"></i> Malicious
                          </div>
                          <div class="col">
                              <i class="fa fa-circle custom-circle-3 mr-2"></i> Clean
                          </div>
                          <div class="col">
                              <i class="fa fa-circle custom-circle-4 mr-2"></i> Unrated
                          </div>
                      </div>
                  </div>
                  
                     </div>
                   </div> 
                   <div class="col-lg-6">    
                      <div class="card analysis-overview-card">
                          <div class="card-header">
                              <h5 class="card-category">Analysis Overview</h5>
                              <h3 class="card-title"><i class="tim-icons icon-bell-55 text-primary"></i> Malware Analysis</h3>
                          </div>
                          <div class="card-body">
                              <div class="chart-area analysis-chart">
                                  <canvas id="analysisChartLine"></canvas>
                              </div>
                          </div>
                      </div>    
                  </div> 
                </div>         
              </div>
              
              <!-- Security Vendors' Analysis -->
              <div class="card security-vendors-analysis-card">
                  <div class="card-header">
                      <h4 class="card-title">Security Vendors' Analysis</h4>
                  </div>
                  <div class="card-body">
                      <div class="analysis-table-container">
                          <!-- İlk yarı için tablo -->
                          <table class="table analysis-table">
                              <thead>
                                  <tr>
                                      <th>Vendor</th>
                                      <th>Analysis</th>
                                  </tr>
                              </thead>
                              <tbody>
                                  {% for result in vt_analysis_results|slice:":47" %}
                                  <tr>
                                      <td>{{ result.engine_name }}</td>
                                      <td>
                                          <span class="badge 
                                              {% if result.result == 'malicious' %}
                                                  badge-danger
                                              {% elif result.result == 'suspicious' %}
                                                  badge-warning
                                              {% elif result.result == 'unrated' %}    
                                                 badge-light
                                              {% elif result.result == 'malware' %}    
                                                  badge-danger
                                              {% else %}
                                                  badge-success
                                              {% endif %}
                                          ">{{ result.result }}
                                          {% if result.result == 'malicious' or result.result == 'suspicious' %}
                                          <i class="fas fa-exclamation-circle"></i>
                                          {% elif result.result == 'clean' %}
                                          <i class="fa fa-check-circle"></i>
                                          {% endif %}
                                          </span>
                                      </td>
                                  </tr>
                                  {% endfor %}
                              </tbody>
                          </table>
          
                          <!-- İkinci yarı için tablo -->
                          <table class="table analysis-table">
                              <thead>
                                  <tr>
                                      <th>Vendor</th>
                                      <th>Analysis</th>
                                  </tr>
                              </thead>
                              <tbody>
                                  {% for result in vt_analysis_results|slice:"47:" %}
                                  <tr>
                                      <td>{{ result.engine_name }}</td>
                                      <td>
                                          <span class="badge 
                                              {% if result.result == 'malicious' %}
                                                  badge-danger
                                              {% elif result.result == 'suspicious' %}
                                                  badge-warning
                                              {% elif result.result == 'unrated' %}    
                                                 badge-light
                                              {% else %}
                                                  badge-success
                                              {% endif %}
                                          ">{{ result.result }}
                                          {% if result.result == 'malicious' or result.result == 'suspicious' %}
                                          <i class="fas fa-exclamation-circle"></i>
                                          {% elif result.result == 'clean' %}
                                          <i class="fa fa-check-circle"></i>
                                          {% endif %}
                                          </span>
                                      </td>
                                  </tr>
                                  {% endfor %}
                              </tbody>
                          </table>
                          
                      </div>                  
                  </div>
              </div>
          
            
          <div class="card whois-card">
              <h3>WHOIS Information</h3>
              <table class="table">
                  <tbody>
                      <tr>
                          <th>Registrar</th>
                          <td>{{ whois.registrar }}</td>
                      </tr>
                      <tr>
                          <th>Creation Date</th>
                          <td>{{ whois.creation_date }}</td>
                      </tr>
                      <tr>
                          <th>Expiration Date</th>
                          <td>{{ whois.expiration_date }}</td>
                      </tr>
                      <tr>
                          <th>Name Servers</th>
                          <td>{{ whois.name_servers }}</td>
                      </tr>
                      <tr>
                          <th>Status</th>
                          <td>{{ whois.status }}</td>
                      </tr>
                  </tbody>
              </table>
          </div>
          </div>
          {% endblock content %}
            {% include 'includes/footer-home.html' %}
        </div>
    </div>

   

    {% include 'includes/fixed-plugin.html' %}

    {% include 'includes/scripts.html' %}

    <!-- Specific Page JS goes HERE  -->
    {% block javascripts %}
   
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const analysisCounts = {
            malicious: 0,
            suspicious: 0,
            clean: 0,
            unrated: 0,
            malware: 0
        };
    
        // Tablo satırlarından sonuçları al
        document.querySelectorAll('.analysis-table tbody tr').forEach(row => {
            const analysis = row.querySelector('td:nth-child(2) span').innerText.trim().toLowerCase();
            if (analysisCounts.hasOwnProperty(analysis)) {
                analysisCounts[analysis]++;
            }
        });
    
        // Chart.js ile çizgi grafiği oluşturma
        const ctx = document.getElementById('analysisChartLine').getContext('2d');
        new Chart(ctx, {
            type: 'line',  // Çizgi grafiği
            data: {
                labels: ['Malicious', 'Suspicious', 'Clean', 'Unrated', 'Malware'],
                datasets: [{
                    label: 'Analysis Results',
                    data: [
                        analysisCounts.malicious,
                        analysisCounts.suspicious,
                        analysisCounts.clean,
                        analysisCounts.unrated,
                        analysisCounts.malware
                    ],
                    fill: false,  // Alan doldurulmayacak
                    borderColor: 'rgba(75, 192, 192, 1)',  // Çizgi rengi
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',  // Nokta arka plan rengi
                    tension: 0.1,  // Çizgi eğrisi (smoothness)
                    pointBackgroundColor: 'rgba(75, 192, 192, 1)',  // Nokta rengi
                    pointBorderColor: '#fff',  // Nokta kenarlığı rengi
                    pointRadius: 5,  // Nokta büyüklüğü
                    pointHoverRadius: 7,  // Üzerine gelindiğinde nokta büyüklüğü
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true  // Y ekseni sıfırdan başlasın
                    }
                }
            }
        });
    });
    document.addEventListener('DOMContentLoaded', function() {
        // API'den gelen latitude ve longitude değerlerini buraya ekleyeceksiniz
        const latitude = {{ otx_latitude }};
        const longitude = {{ otx_longitude }};
    
        // Leaflet haritasını başlat
        const map = L.map('map').setView([latitude, longitude], 10);
    
        // OpenStreetMap katmanını ekle
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);
    
        // Konum marker'ını ekle
        L.marker([latitude, longitude]).addTo(map)
            .bindPopup('Konum: ' + latitude + ', ' + longitude)
            .openPopup();
    });
    document.addEventListener('DOMContentLoaded', function() {
        // Kart verilerini almak için bir nesne
        const analysisCounts = {
            malicious: 0,
            suspicious: 0,
            clean: 0,
            unrated: 0,
            malware: 0
        };
    
        // Tablo satırlarından sonuçları al
        document.querySelectorAll('.analysis-table tbody tr').forEach(row => {
            const analysis = row.querySelector('td:nth-child(2) span').innerText.trim().toLowerCase();
            if (analysisCounts.hasOwnProperty(analysis)) {
                analysisCounts[analysis]++;
            }
        });
    
        // Donut grafiği oluşturma
        const ctx = document.getElementById('donutChart2').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Malicious', 'Suspicious', 'Clean', 'Unrated', 'Malware'],
                label: 'Analysis Results',
                datasets: [{
                    data: [
                        analysisCounts.malicious,
                        analysisCounts.suspicious,
                        analysisCounts.clean,
                        analysisCounts.unrated,
                        analysisCounts.malware
                    ],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(255, 159, 64, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 205, 86, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(255, 159, 64, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 205, 86, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(tooltipItem) {
                                return tooltipItem.label + ': ' + tooltipItem.raw;
                            }
                        }
                    }
                }
            }
        });
    });
   
    document.addEventListener('DOMContentLoaded', function() {
        // Trend ikonlarını değiştiren bir fonksiyon
        function updateTrendIcons() {
            document.querySelectorAll('.trend-icon').forEach(function(icon) {
                const isPositive = Math.random() > 0.5; // Rastgele bir true/false değeri
                icon.classList.toggle('text-success', isPositive); // Pozitif değer için yeşil yap
                icon.classList.toggle('text-danger', !isPositive); // Negatif değer için kırmızı yap
                icon.innerHTML = isPositive ? '<i class="fas fa-arrow-up"></i>' : '<i class="fas fa-arrow-down"></i>'; // İkonu güncelle
            });
        }
    
        // İlk olarak ikonları güncelle
        updateTrendIcons();
    
        // 5 saniyede bir ikonları güncelle
        setInterval(updateTrendIcons, 5000);
    });
    document.addEventListener("DOMContentLoaded", function () {
        // Analiz sonuçlarını saymak için başlangıç değerlerini belirleyin
        const analysisCounts = {
            malicious: 0,
            suspicious: 0,
            clean: 0,
            unrated: 0,
            malware: 0
        };
    
        // Tablo satırlarından sonuçları al
        document.querySelectorAll('.analysis-table tbody tr').forEach(row => {
            const analysis = row.querySelector('td:nth-child(2) span').innerText.trim().toLowerCase();
            if (analysisCounts.hasOwnProperty(analysis)) {
                analysisCounts[analysis]++;
            }
        });
    
        // Chart.js için Doughnut Chart konfigürasyonu
        const ctx = document.getElementById('donutChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'doughnut',  // Grafik tipi
            data: {
                labels: ['Malicious', 'Suspicious', 'Clean', 'Unrated', 'Malware'],  // Kategoriler
                datasets: [{
                    data: Object.values(analysisCounts),  // Tablo verilerine göre kategorilere ait dinamik veriler
                    backgroundColor: [
                        '#FF6384',  // Malicious
                        '#e2aef6',  // Suspicious
                        '#f5dcf9',  // Clean
                        '#c8709c',  // Unrated
                        '#a444b0'   // Malware
                    ],
                    hoverBackgroundColor: [
                        '#FF6384',  // Malicious Hover
                        '#FFCE56',  // Suspicious Hover
                        '#7c379e',  // Clean Hover
                        '#a47aef',  // Unrated Hover
                        '#4BC0C0'   // Malware Hover
                    ],
                    borderWidth: 0  // Kenarlık kalınlığı
                }]
            },
            options: {
                responsive: true,  // Duyarlılık ayarı
                maintainAspectRatio: false,  // Oran koruma
                cutout: '70%',  // Orta boşluk boyutu
                plugins: {
                    legend: {
                        display: false  // Legend görünürlüğü
                    }
                }
            }
        });
    });
    
    
</script>
{% endblock javascripts %}


</body>
</html>
